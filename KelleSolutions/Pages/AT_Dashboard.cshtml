@page
@model KelleSolutions.Pages.AT_DashboardModel

@using Microsoft.AspNetCore.Identity
@using KelleSolutions.Models

@* Injecting SignInManager and UserManager services to handle user authentication *@
@inject SignInManager<User> SignInManager
@inject UserManager<User> UserManager

@{
    ViewData["Title"] = "Dashboard";
}

<h2>Welcome to Your Admin/Tenant Dashboard</h2>

<!-- Display the success message if it exists in TempData -->
@if (TempData["SuccessMessage"] != null)
{
    <div class="alert alert-success" id="successMessage">
        @TempData["SuccessMessage"]
    </div>
}

@section Scripts {
    <script>
        // Hide the success message after 5 seconds
        setTimeout(function () {
            var message = document.getElementById("successMessage");
            if (message) {
                message.style.display = "none";
            }
        }, 5000);
    </script>
}

@if (SignInManager.IsSignedIn(User))
{
    <p>Hello, @UserManager.GetUserName(User)</p>
}
else
{
    <p>You are not logged in. Please <a asp-area="Identity" asp-page="/Account/Login">log in</a> to access your dashboard.</p>
}

<nav class="navbar navbar-expand-lg navbar-light bg-light mb-4">
    <span class="navbar-brand"> Get Started </span>
    <div class="collapse navbar-collapse">
        <ul class="navbar-nav">
            <li class="nav-item">
                <a class="nav-link" href="/Listings/CreateListing">Create a Listing</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="/Properties/CreateProperty">Create a Property</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="/People/CreatePerson">Create Person</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="/Leads/CreateLead">Create a Lead</a>
            </li>
        </ul>
    </div>
</nav>


<div>
    <h3>Your Dashboard Overview</h3>
    <p>This is where you can add relevant information for users, such as their recent activities, updates, or links to other parts of the site.</p>
    <ul>
        <li>Example Item 1</li>
        <li>Example Item 2</li>
        <li>Example Item 3</li>
    </ul>
</div>
